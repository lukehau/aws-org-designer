/**
 * AWS Icon Components
 * Consolidated AWS icons for the application
 */

import { memo } from 'react';
import * as React from "react";

export type AWSIconType = 'root' | 'ou' | 'account' | 'policy';

interface AWSIconProps {
  type: AWSIconType;
  size?: 'sm' | 'md' | 'lg' | 'xlg' | '2xlg';
  className?: string;
}

interface AwsPolicyIconProps extends React.SVGProps<SVGSVGElement> {
  size?: number;
}

/**
 * Size configurations
 */
const sizeClasses = {
  sm: 'size-4',
  md: 'size-6',
  lg: 'size-8',
  xlg: 'size-10',
  '2xlg': 'size-20',
};

/**
 * AWS SVG Icons
 */
const AWSIcons = {
  root: ({ className }: { className?: string }) => (
    <svg className={className} viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
      {/* Official AWS Organizations Icon */}
      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
        <g fill="#E7157B">
          <rect x="0" y="0" width="64" height="64"></rect>
        </g>
        <path d="M44,51.0054 L50,51.0054 L50,45.0216001 L44,45.0216001 L44,51.0054 Z M29,51.0054 L35,51.0054 L35,45.0216001 L29,45.0216001 L29,51.0054 Z M14,51.0054 L20,51.0054 L20,45.0216001 L14,45.0216001 L14,51.0054 Z M51,43.0270001 L48,43.0270001 L48,39.0378001 C48,38.4872905 47.552,38.0405001 47,38.0405001 L33,38.0405001 L33,35.0486001 L31,35.0486001 L31,38.0405001 L17,38.0405001 C16.447,38.0405001 16,38.4872905 16,39.0378001 L16,43.0270001 L13,43.0270001 C12.447,43.0270001 12,43.4737905 12,44.0243001 L12,52.0027 C12,52.5532096 12.447,53 13,53 L21,53 C21.552,53 22,52.5532096 22,52.0027 L22,44.0243001 C22,43.4737905 21.552,43.0270001 21,43.0270001 L18,43.0270001 L18,40.0351001 L31,40.0351001 L31,43.0270001 L28,43.0270001 C27.447,43.0270001 27,43.4737905 27,44.0243001 L27,52.0027 C27,52.5532096 27.447,53 28,53 L36,53 C36.552,53 37,52.5532096 37,52.0027 L37,44.0243001 C37,43.4737905 36.552,43.0270001 36,43.0270001 L33,43.0270001 L33,40.0351001 L46,40.0351001 L46,43.0270001 L43,43.0270001 C42.447,43.0270001 42,43.4737905 42,44.0243001 L42,52.0027 C42,52.5532096 42.447,53 43,53 L51,53 C51.552,53 52,52.5532096 52,52.0027 L52,44.0243001 C52,43.4737905 51.552,43.0270001 51,43.0270001 L51,43.0270001 Z M32,14.1382112 L38.949,17.9887865 L32,21.8812483 L25.05,17.9887865 L32,14.1382112 Z M33,31.3406388 L33,23.6085719 L40,19.6881856 L40,27.3763713 L33,31.3406388 Z M24,19.6881856 L31,23.6085719 L31,31.3406388 L24,27.3763713 L24,19.6881856 Z M22.505,28.8244509 L31.505,33.9216511 C31.659,34.0084162 31.83,34.0513001 32,34.0513001 C32.17,34.0513001 32.34,34.0084162 32.494,33.9216511 L41.494,28.8244509 C41.806,28.6469315 42,28.3158279 42,27.9567999 L42,17.9838 C42,17.6217801 41.802,17.2876846 41.485,17.1121598 L32.485,12.1256598 C32.184,11.9581134 31.815,11.9581134 31.514,12.1256598 L22.514,17.1121598 C22.197,17.2876846 22,17.6217801 22,17.9838 L22,27.9567999 C22,28.3158279 22.193,28.6469315 22.505,28.8244509 L22.505,28.8244509 Z" fill="#FFFFFF"></path>
      </g>
    </svg>
  ),

  ou: ({ className }: { className?: string }) => (
    <svg className={className} viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      {/* Official AWS Organizations Organizational Unit Icon */}
      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
        <path d="M34,30 C36.757,30 39,32.243 39,35 C39,37.757 36.757,40 34,40 C31.243,40 29,37.757 29,35 C29,32.243 31.243,30 34,30 L34,30 Z M34,42 C37.859,42 41,38.86 41,35 C41,31.14 37.859,28 34,28 C30.141,28 27,31.14 27,35 C27,38.86 30.141,42 34,42 L34,42 Z M35.831,15.503 L39.579,23 L32.083,23 L35.831,15.503 Z M30.465,25 L41.197,25 C41.544,25 41.865,24.82 42.048,24.526 C42.23,24.231 42.247,23.863 42.092,23.553 L36.726,12.82 C36.386,12.143 35.276,12.143 34.937,12.82 L29.57,23.553 C29.415,23.863 29.432,24.231 29.614,24.526 C29.797,24.82 30.118,25 30.465,25 L30.465,25 Z M14,32 L23,32 L23,23 L14,23 L14,32 Z M13,34 L24,34 C24.553,34 25,33.552 25,33 L25,22 C25,21.448 24.553,21 24,21 L13,21 C12.447,21 12,21.448 12,22 L12,33 C12,33.552 12.447,34 13,34 L13,34 Z M4,38 L6,38 L6,40 L3,40 C2.447,40 2,39.552 2,39 L2,3 C2,2.448 2.447,2 3,2 L39,2 C39.553,2 40,2.448 40,3 L40,6 L38,6 L38,4 L4,4 L4,38 Z M10,44 L44,44 L44,10 L10,10 L10,44 Z M45,8 L9,8 C8.447,8 8,8.448 8,9 L8,45 C8,45.552 8.447,46 9,46 L45,46 C45.553,46 46,45.552 46,45 L46,9 C46,8.448 45.553,8 45,8 L45,8 Z" fill="#E7157B"></path>
      </g>
    </svg>
  ),

  account: ({ className }: { className?: string }) => (
    <svg className={className} viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      {/* Official AWS Organizations Account Icon */}
      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
        <path d="M32,28 C35.309,28 38,30.691 38,34 C38,37.309 35.309,40 32,40 C28.691,40 26,37.309 26,34 C26,30.691 28.691,28 32,28 L32,28 Z M32,42 C36.411,42 40,38.411 40,34 C40,29.589 36.411,26 32,26 C27.589,26 24,29.589 24,34 C24,38.411 27.589,42 32,42 L32,42 Z M34,9.236 L38.882,19 L29.118,19 L34,9.236 Z M27.5,21 L40.5,21 C40.847,21 41.168,20.82 41.351,20.526 C41.533,20.231 41.55,19.863 41.395,19.553 L34.895,6.553 C34.555,5.875 33.445,5.875 33.105,6.553 L26.605,19.553 C26.45,19.863 26.467,20.231 26.649,20.526 C26.832,20.82 27.153,21 27.5,21 L27.5,21 Z M9,29 L20,29 L20,18 L9,18 L9,29 Z M8,31 L21,31 C21.553,31 22,30.552 22,30 L22,17 C22,16.448 21.553,16 21,16 L8,16 C7.447,16 7,16.448 7,17 L7,30 C7,30.552 7.447,31 8,31 L8,31 Z M4,44 L44,44 L44,4 L4,4 L4,44 Z M45,2 L3,2 C2.447,2 2,2.448 2,3 L2,45 C2,45.552 2.447,46 3,46 L45,46 C45.553,46 46,45.552 46,45 L46,3 C46,2.448 45.553,2 45,2 L45,2 Z" fill="#E7157B"></path>
      </g>
    </svg>
  ),

  policy: ({ className }: { className?: string }) => (
    <svg className={className} viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      {/* AWS IAM Permissions icon for policy badges */}
      <path
        d="M20.2899,18.04 L21.7039,19.454 L14.7059,26.452 C14.5109,26.647 14.2549,26.745 13.9989,26.745 C13.7429,26.745 13.4869,26.647 13.2919,26.452 L9.7919,22.953 L11.2059,21.539 L13.9989,24.331 L20.2899,18.04 Z M20.2899,6.667 L21.7039,8.081 L14.7059,15.079 C14.5109,15.274 14.2549,15.372 13.9989,15.372 C13.7429,15.372 13.4869,15.274 13.2919,15.079 L9.7919,11.58 L11.2059,10.166 L13.9989,12.958 L20.2899,6.667 Z M19.9549,32.576 L16.7259,35.806 L19.9549,39.035 L18.5409,40.449 L15.3109,37.22 L12.0809,40.449 L10.6669,39.035 L13.8969,35.806 L10.6669,32.576 L12.0809,31.162 L15.3109,34.392 L18.5409,31.162 L19.9549,32.576 Z M39.2429,43.186 C39.2429,43.63 38.8819,43.991 38.4379,43.991 L8.8059,43.991 C8.3609,43.991 7.9999,43.63 7.9999,43.186 L7.9999,4.806 C7.9999,4.361 8.3609,4 8.8059,4 L38.4379,4 C38.8819,4 39.2429,4.361 39.2429,4.806 L39.2429,43.186 Z M38.4379,2 L8.8059,2 C7.2589,2 5.9999,3.259 5.9999,4.806 L5.9999,43.186 C5.9999,44.732 7.2589,45.991 8.8059,45.991 L38.4379,45.991 C39.9849,45.991 41.2429,44.732 41.2429,43.186 L41.2429,4.806 C41.2429,3.259 39.9849,2 38.4379,2 L38.4379,2 Z"
        fill="currentColor"
      />
    </svg>
  ),
};

/**
 * AWS Icon Component
 */
export const AWSIcon = memo(({ type, size = 'md', className = '' }: AWSIconProps) => {
  const sizeClass = sizeClasses[size];
  const combinedClassName = `${sizeClass} ${className}`.trim();

  const IconComponent = AWSIcons[type];
  return <IconComponent className={combinedClassName} />;
});

AWSIcon.displayName = 'AWSIcon';

/**
 * AWS Policy Icon Component (for backward compatibility and specific use cases)
 */
export function AwsPolicyIcon({ size = 16, className, ...props }: AwsPolicyIconProps) {
  return (
    <svg
      width={size}
      height={size}
      viewBox="0 0 48 48"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      {...props}
    >
      <path
        d="M20.2899,18.04 L21.7039,19.454 L14.7059,26.452 C14.5109,26.647 14.2549,26.745 13.9989,26.745 C13.7429,26.745 13.4869,26.647 13.2919,26.452 L9.7919,22.953 L11.2059,21.539 L13.9989,24.331 L20.2899,18.04 Z M20.2899,6.667 L21.7039,8.081 L14.7059,15.079 C14.5109,15.274 14.2549,15.372 13.9989,15.372 C13.7429,15.372 13.4869,15.274 13.2919,15.079 L9.7919,11.58 L11.2059,10.166 L13.9989,12.958 L20.2899,6.667 Z M19.9549,32.576 L16.7259,35.806 L19.9549,39.035 L18.5409,40.449 L15.3109,37.22 L12.0809,40.449 L10.6669,39.035 L13.8969,35.806 L10.6669,32.576 L12.0809,31.162 L15.3109,34.392 L18.5409,31.162 L19.9549,32.576 Z M39.2429,43.186 C39.2429,43.63 38.8819,43.991 38.4379,43.991 L8.8059,43.991 C8.3609,43.991 7.9999,43.63 7.9999,43.186 L7.9999,4.806 C7.9999,4.361 8.3609,4 8.8059,4 L38.4379,4 C38.8819,4 39.2429,4.361 39.2429,4.806 L39.2429,43.186 Z M38.4379,2 L8.8059,2 C7.2589,2 5.9999,3.259 5.9999,4.806 L5.9999,43.186 C5.9999,44.732 7.2589,45.991 8.8059,45.991 L38.4379,45.991 C39.9849,45.991 41.2429,44.732 41.2429,43.186 L41.2429,4.806 C41.2429,3.259 39.9849,2 38.4379,2 L38.4379,2 Z"
        fill="currentColor"
      />
    </svg>
  )
}

/**
 * Utility function to get icon type from organization node type
 */
export const getIconTypeFromNodeType = (nodeType: string): AWSIconType => {
  switch (nodeType) {
    case 'root':
      return 'root';
    case 'ou':
      return 'ou';
    case 'account':
      return 'account';
    default:
      return 'ou';
  }
};